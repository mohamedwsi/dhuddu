<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <p>Hii Duddu</p>
    <!-- <script>
        //Synchronus System . It can do task at one by one
        //Asynchronus System. Doing multiple tasks at a time.

        //synchronous example
        // console.log('First');
        // console.log('Second');
        // console.log('Third');

        //Asynchronous Example
        // console.log('First');
        // setTimeout(()=>console.log('Second'),2000); //2seconds timout
        // console.log('Third');
    </script>

    <script>
        //callback functions -- now it is not used (actually it means fuctions kula fuctions call pani call pani eluthurathu thaan)

        //"promises" are the alternate for callback functions
        //3 States: Pending,Fulfilled,Rejected

        //fullfiled(error=false) & rejected(error=true)
        const myPromise = new Promise((resolve,reject)=>
        {
            const error = false;
            if(!error)
            {
                resolve("Yes,Its Resolved")
            }
            else
            {
                reject("No,Its Rejected")
            }
        })

        console.log(myPromise);
        myPromise.then(value =>{console.log(value)})//.catch((err)=>{console.log(err)}); 
        //"catch" is used when error is true 
        //Using then fuction we can get the only value form promise.

        myPromise
        .then(value =>{return value + "Thanks"})
        .then(newValue=>{console.log(newValue)})//.catch((err)=>{console.log(err)})  //just an example to add then multple times


        //pending
        const users = fetch("https://jsonplaceholder.typicode.com/users").then(response=> {return response.json()}).then(users=>console.log(users.forEach(user=>console.log(user))));     //forEach is used to describe data one by one.
        console.log(users);
    </script>
 -->
   <!--  <script>
        //Async and Await

        const userobj ={
            userList:[]
        }

        const users = async ()=>{
            const response = await fetch("https://jsonplaceholder.typicode.com/users")
            const userData = await response.json()
            newFunc(userData)
            return userData 
        }
        

       const newFunc = (data)=>{
        // const newResponse = await users()
        userobj.userList=data
        console.log(userobj);
        return data
       }
       users()
       console.log(userobj);
    </script> -->

    <script> //GET METHOD
        const getDadJoke = async()=>{
           const responsee = await fetch('https://icanhazdadjoke.com/',{method:'GET',headers:{Accept:'application/json'}})
           const joke =await responsee.json()
           console.log(joke)
        }
       // getDadJoke();
    </script>
    <script> //POST METHOD
    const postjoke = 
    {
        id: 'FImyA5EIBAd', 
        joke: "Did you hear about the kidnapping at school? It's ok, he woke up."
    } 

        const postDadJoke = async(jokeObj)=>{
           const responseee = await fetch('https://httpbin.org/post',{
           method:'POST',
           headers:{
            'Content-Type':'application/json'
           },
           body:JSON.stringify(jokeObj)
        })
           const jokee =await responseee.json()
           console.log(jokee)
        }
        postDadJoke(postjoke);
    </script>
</body>
</html>